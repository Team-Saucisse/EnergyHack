[%@ namespace name="CodeFluent.Producers.CodeDom" %]
[%@ namespace name="CodeFluent.Model" %]
[%@ namespace name="System" %]
[%@ namespace name="System.IO" %]
[%@ namespace name="CodeFluent.Producers.SmartClient" %]//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:[%=System.Environment.Version%]
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Windows;
using System.Windows.Data;
using System.Windows.Media;
using System.Windows.Controls;
using System.Collections.Generic;
using Microsoft.Win32;
using CodeFluent.Runtime;
using CodeFluent.Runtime.BinaryServices;

namespace CodeFluent.Runtime.SmartClient.Controls
{
	public partial class BinaryObjectEditControl: UserControl 
	{			        
		public BinaryObjectEditControl() 
		{
			InitializeComponent();
		}

        private void BrowseButton_Clicked(object sender, RoutedEventArgs e)
        {
           BaseBinaryLargeObject binaryObject = DataContext as BaseBinaryLargeObject;
           if (binaryObject != null)
           {
                OpenFileDialog openFileDialog = new OpenFileDialog();
                {
                    openFileDialog.CheckFileExists = true;
                    openFileDialog.Multiselect = false;
                    openFileDialog.Filter = "Image Files (*.bmp;*.jpg;*.gif;*.png)|*.bmp;*.jpg;*.gif;*.png|All files (*.*)|*.*";
                    bool? result = openFileDialog.ShowDialog();
                    if (result == null || result == false)
                        return;

                    TextBoxFileName.Text = openFileDialog.FileName;
                    binaryObject.FileName = TextBoxFileName.Text;
                }
           }

        }
    }
}